# ДЗ3

## Сущность
В качестве "основной сущности" нашего приложения мы выбрали пины. В рамках этого тестирования мы загружаем картинку и заполняем данными поля заголовка и описания пина.

## Подготовка 
Для тестирования использовалось средство запуска коллекции из командной строки (command-line collection runner) [newman](https://github.com/postmanlabs/newman). 
Запускается тестирование с помощью команды: 
```
newman run -n10 post_request_updated.json --verbose
```

`newman run` запускает скрипт `post_request_updated.json`, флаг `-n 10` говорит ему сколько итераций нужно сделать, а флаг `--verbose` показывает детальную информацию о тестировании. 

Перед запуском тестирования необходимо сгенерировать данные. 
Для этого используется `bash`([post_script.sh](https://github.com/go-park-mail-ru/2024_1_Harmonica/blob/33eb2d6b03bcf1b178f94fc5fd49f885e72191b8/internal/repository/perf_test/post_script.sh)), он принимает конфиг `post_request.json`([Ссылка](https://github.com/go-park-mail-ru/2024_1_Harmonica/blob/33eb2d6b03bcf1b178f94fc5fd49f885e72191b8/internal/repository/perf_test/post_request.json)). 
Далее авторизовывает пользователя в системе и формирует для него набор данных, которые он будет постить и заголовки для подтверждения авторизации. 
На выходе получается скрипт `post_request_updated.json` со всеми необходимыми полями

## Создание сущности

[//]: # (Сюда вставляем вывод команды)

## Чтение сущности 

[//]: # (Сюда тоже тесты)

## Улучшения 

Для улучшения результатов можно: 
 - подумать над оптимизацией столбцов в таблице. К примеру, убрать лишние столбцы, которые не используются в текущей логике программы.  
 - перевести все данные в вид в котором они используются в приложении. К примеру, нет смысла хранить ссылку на фото вместе с портом, это лишние данные  
 - Также если добавить индекс по столбцам `created_at` и `pin.author_id` можно ускорить сортировку и поиск данных